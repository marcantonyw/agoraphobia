---
const { toc } = Astro.props;
import StickyToc from '../components/StickyToc.astro';
---
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Agoraphobia Recovery</title>
    <!-- Load fonts: using Crimson Pro for headings and Inter for body text -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Crimson+Pro:wght@400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Basic resets */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        background-color: #fff;
        color: #1a1a1a;
        font-family: 'Inter', sans-serif;
        font-size: 14px;
        line-height: 1.5;
        display: flex;
      }
      
      
      
      /* Main content styling */
      main {
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem;
      }
      
.hero-section {
  text-align: center;
  margin-top: 4rem;    /* Increased top margin */
  margin-bottom: 4rem; /* Increased bottom margin */
  padding: 2rem;       /* Optional: add some padding */
}

.hero-section h1 {
  font-family: 'Crimson Pro', serif;
  font-size: 3rem;     /* Increased from 2.4rem to 3rem */
  margin-bottom: 1rem; /* Slightly larger gap under the title */
  color: #228B22;
}

.hero-section p {
  font-size: 1.5rem;   /* Increase subtitle font size */
  margin: 0.75rem 0;   /* Adjust vertical spacing */
  max-width: 700px;
  margin-left: auto;
  margin-right: auto;
}

/* Add new style for email */
.hero-section .email {
  font-size: 0.8rem;
  color: #666;
  margin-top: 1rem;
}
      
      /* Article styling for markdown content */
      article.content h1,
      article.content h2,
      article.content h3,
      article.content h4,
      article.content h5,
      article.content h6 {
        font-family: 'Crimson Pro', serif;
        margin-top: 2.5rem;
        margin-bottom: 0rem;
        line-height: 1.3;
      }

      /* Override with more specific selectors */
      main article.content h1 {
        color: forestgreen !important;
        font-size: 2.5rem !important;
      }

      main article.content h2 {
        color: #228B22 !important;
        font-size: 2rem !important;
      }

      /* Remove any conflicting styles */
      article h1,
      article h2 {
        color: unset;
        font-size: unset;
      }

      article.content strong {
  color: #228B22;
}

      article.content p {
        margin-bottom: .5rem;
      }
      
      article.content a {
        color: #0066cc;
        text-decoration: none;
      }
      
      article.content a:hover {
        text-decoration: underline;
      }
      
      /* Blockquote styling */
      :global(blockquote) {
        margin: 1.5rem 0;
        padding: 1rem 1.5rem;
        border-left: 6px solid forestgreen;
        background-color: #f9f9f9;
        color: #555;
        font-style: italic;
      }

      :global(blockquote p) {
        margin: 0;
      }

      :global(blockquote strong) {
        color: inherit;
      }
      
      article.content ul,
      article.content ol {
        margin-bottom: 1.5rem;
        padding-left: 1.5rem;
      }

      aside {
        position: sticky;
        top: 0;
        padding: 1rem;
        width: 250px;
        background-color: #f8f9fa;
        border: none;
        height: 100vh;
        overflow-y: auto;
      }

      /* Single box for TOC */
      aside nav {
        border: 1px solid #ddd;
        border-radius: 8px;
        background-color: #fff;
        padding: 1rem;
      }

      aside h2 {
        margin-bottom: 1rem;
        color: #228B22;
      }

      article h1 {
        color: forestgreen;
        font-size: 2.5rem;
        margin-top: 2rem;
        margin-bottom: 1.5rem;
      }

      article h2 {
        font-size: 2rem;
        margin-top: 2rem;
        margin-bottom: 1.5rem;
      }

      :global(article.content img) {
        max-width: 100% !important;
        height: auto;
        border-radius: 8px;
        margin: 1.5rem auto;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        display: block;
      }
    </style>
  </head>
  
  <body>
    <aside>
      <h2>Contents</h2>
      <nav id="toc">
        <StickyToc headings={toc} />
      </nav>
    </aside>
    
    <main>
      <div class="hero-section">
        <h1>Agoraphobia Recovery</h1>
        <p>A laymen's guide</p>
        <p class="email">Marc - marcantonyw@gmail.com</p>
      </div>
      
      <!-- Make sure content class is applied -->
      <article class="content">
        <slot />
      </article>
    </main>
  </body>
</html>